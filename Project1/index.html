<!Doctype html>
<html>
<head>
	<title>Lab 0</title>
	<meta charset="utf-8"/>
        <link rel="stylesheet" href="index.css">
</head>
<body>
  <h1>Michael Read's Compilers Project</h1>
  <h2>Currently only able to lex</h2>
  <p>Enter your input code here</p>
  <script src="Project1.js" type="text/javascript"></script>
  <textarea rows="20", cols="100" id="inputArea"></textarea>
  </br>
  </br>
  <button type="button" onclick="beginCompile()">Compile</button>
  </br>
  </br>
  <p>Output:</p>
  <textarea readonly rows="20", cols="100" id="outputArea"></textarea>

  <script>
    function beginCompile(){
      var output = "";
      output = output + "Begin Lexing...\n"
      var input = document.getElementById("inputArea").value;
      var tokens = [];
      var errors = [];
      var warnings = [];
      lexInput(input, tokens, warnings, errors);
      if(errors.length == 0) {
        for(i = 0; i < tokens.length; i++){
          output = output + "LEXER: " + tokens[i].type + " [" + tokens[i].value + "] on line " + tokens[i].line + "\n";
        }
        for(i = 0; i < warnings.length; i++){
          output = output + "LEXER: " + warnings[i].type + " on line " + warnings[i].line + "\n";
        }
        output = output + "Lexing completed with ";               
      }
      else{
        for(i = 0; i < errors.length; i++){
          output = output + "LEXER: " + errors[i].type + "\n";
        }
        output = output + "Lexing failed with ";               
      }
                       
      output = output + warnings.length + " warnings and " + errors.length + " errors\n";               
      document.getElementById("outputArea").value = output;
    }
  </script>
  
</body>
</html>
